# 풀오토 발행 테스트 가이드

## 개요

이 문서는 네이버 블로그 풀오토 발행 기능의 테스트 방법과 확인 사항을 설명합니다.

## 테스트 파일

### `test-full-auto-real.ts`

실제 환경 설정에서 API 키를 읽어서 풀오토 발행을 테스트하는 파일입니다.

**테스트 내용:**
1. ✅ 환경 설정에서 API 키 로드
2. ✅ 구조화된 콘텐츠 생성 (Gemini/OpenAI/Claude)
3. ✅ 이미지 생성 (Pexels 또는 DALL-E)
4. ✅ AI 이미지 자동 매칭 (Gemini)
5. ✅ 네이버 블로그 자동화 (타이핑 순서 확인)
6. ✅ 발행/임시저장

## 실행 방법

### 1. 환경 설정 확인

앱을 실행하고 설정에서 다음 항목을 저장해야 합니다:

- **네이버 계정**: 네이버 아이디와 비밀번호
- **API 키**: 
  - Gemini API 키 (콘텐츠 생성 및 AI 매칭용)
  - OpenAI API 키 (DALL-E 사용 시)
  - Pexels API 키 (Pexels 사용 시)

설정 파일 위치: `%APPDATA%\naver-blog-automation\settings.json`

### 2. 테스트 실행

```bash
# TypeScript로 직접 실행
npx ts-node test-full-auto-real.ts

# 또는 컴파일 후 실행
npm run build
node dist/test-full-auto-real.js
```

### 3. 테스트 설정 변경

`test-full-auto-real.ts` 파일의 `TEST_CONFIG` 객체를 수정하여 테스트 설정을 변경할 수 있습니다:

```typescript
const TEST_CONFIG = {
  // 테스트 주제
  topic: '건강한 아침 식사 루틴 만들기',
  
  // 발행 모드 (draft: 임시저장, publish: 발행)
  publishMode: 'draft' as 'draft' | 'publish',
  
  // 이미지 소스 (pexels 또는 dalle)
  imageSource: 'pexels' as 'pexels' | 'dalle',
};
```

## 확인 사항

### 1. 콘텐츠 생성 확인

- ✅ 제목이 생성되었는가?
- ✅ 본문이 충분한 길이로 생성되었는가? (최소 1500자)
- ✅ 소제목이 생성되었는가?
- ✅ 해시태그가 생성되었는가?

### 2. 이미지 생성 확인

- ✅ 각 소제목에 대한 이미지가 생성되었는가?
- ✅ 이미지 파일이 로컬에 저장되었는가?
- ✅ 이미지 미리보기가 표시되는가?

### 3. AI 이미지 매칭 확인

- ✅ AI가 소제목과 이미지를 자동으로 매칭했는가?
- ✅ 매칭 신뢰도가 표시되는가?
- ✅ 매칭 결과가 로그에 출력되는가?

### 4. 타이핑 순서 확인

브라우저에서 다음 순서로 타이핑이 진행되는지 확인:

1. ✅ **로그인**: 네이버 아이디와 비밀번호 입력
2. ✅ **글쓰기 페이지 이동**: 네이버 블로그 글쓰기 페이지로 이동
3. ✅ **제목 타이핑**: 생성된 제목이 타이핑됨
4. ✅ **본문 타이핑**: 
   - 인트로 문단
   - 첫 번째 소제목 + 내용
   - 두 번째 소제목 + 내용
   - ...
   - 마지막 소제목 + 내용
   - 아웃트로 문단
5. ✅ **이미지 삽입**: 
   - 각 소제목 아래에 매칭된 이미지 삽입
   - 이미지 업로드 및 삽입 확인
6. ✅ **해시태그 입력**: 생성된 해시태그 입력
7. ✅ **발행/임시저장**: 선택한 모드로 발행

### 5. 최종 확인

- ✅ 네이버 블로그에서 글이 정상적으로 보이는가?
- ✅ 이미지가 올바른 위치에 삽입되었는가?
- ✅ 해시태그가 정상적으로 표시되는가?
- ✅ 글 구조가 자연스러운가?

## 문제 해결

### 1. API 키 오류

**증상**: `API 키가 설정되지 않았습니다` 오류

**해결 방법**:
1. 앱을 실행하고 설정 메뉴로 이동
2. API 키를 입력하고 저장
3. 앱을 재시작

### 2. 로그인 실패

**증상**: 네이버 로그인이 실패함

**해결 방법**:
1. 네이버 계정 정보가 올바른지 확인
2. 네이버 보안 설정 확인 (2단계 인증 등)
3. 브라우저 쿠키 삭제 후 재시도

### 3. 이미지 생성 실패

**증상**: 이미지가 생성되지 않음

**해결 방법**:
1. Pexels/OpenAI API 키가 올바른지 확인
2. API 사용량 제한 확인
3. 네트워크 연결 확인

### 4. AI 매칭 실패

**증상**: AI 이미지 매칭이 실패함

**해결 방법**:
1. Gemini API 키가 올바른지 확인
2. API 사용량 제한 확인
3. 로그에서 오류 메시지 확인

### 5. 타이핑 순서 오류

**증상**: 타이핑 순서가 올바르지 않음

**해결 방법**:
1. `slowMo` 옵션을 늘려서 타이핑 속도 감소
2. 네이버 블로그 페이지 구조 변경 확인
3. 셀렉터 업데이트 필요 여부 확인

## 테스트 결과 예시

```
================================================================================
🚀 풀오토 발행 실제 테스트 시작
================================================================================

📋 단계 1/6: 환경 설정 로드

✅ settings.json에서 로그인 정보를 찾았습니다.
✅ Gemini API 키를 찾았습니다: AIzaSyBXXX...
✅ Pexels API 키를 찾았습니다: 563492ad6f...
✓ 네이버 계정: abc***
✓ 생성 엔진: GEMINI
✓ 이미지 소스: PEXELS

📝 단계 2/6: 구조화된 콘텐츠 생성

주제: 건강한 아침 식사 루틴 만들기
생성 엔진: gemini

✅ 콘텐츠 생성 완료 (8.45초)
   제목: 건강한 아침 식사 루틴으로 하루를 시작하세요
   본문 길이: 2341자
   소제목: 5개
   해시태그: 아침식사, 건강식단, 영양균형, 식습관, 건강루틴
   소제목 목록:
     1. 아침 식사의 중요성
     2. 영양 균형 잡힌 메뉴 구성하기
     3. 시간 절약 아침 식사 준비 팁
     4. 건강한 아침 식사 습관 만들기
     5. 추천 아침 식사 레시피

🎨 단계 3/6: 이미지 생성 (PEXELS)

5개 소제목에 대한 이미지 생성 요청...
✅ 이미지 생성 완료 (3.21초)
   생성된 이미지: 5개
     1. 아침 식사의 중요성
     2. 영양 균형 잡힌 메뉴 구성하기
     3. 시간 절약 아침 식사 준비 팁
     4. 건강한 아침 식사 습관 만들기
     5. 추천 아침 식사 레시피

🤖 단계 4/6: AI 이미지 자동 매칭

AI 매칭 대상: 5개 소제목, 5개 이미지
✅ AI 이미지 매칭 완료 (2.15초)
   매칭된 소제목: 5개
   매칭 결과:
     1. "아침 식사의 중요성" → "Healthy breakfast table" (신뢰도: 95%)
     2. "영양 균형 잡힌 메뉴 구성하기" → "Balanced meal plate" (신뢰도: 92%)
     3. "시간 절약 아침 식사 준비 팁" → "Quick breakfast prep" (신뢰도: 88%)
     4. "건강한 아침 식사 습관 만들기" → "Morning routine" (신뢰도: 90%)
     5. "추천 아침 식사 레시피" → "Breakfast recipe" (신뢰도: 93%)

🔧 단계 5/6: 네이버 블로그 자동화 준비

✅ 자동화 객체 생성 완료

📤 단계 6/6: 네이버 블로그 발행 실행

발행 모드: 임시저장

⚠️  다음 순서를 확인하세요:
   1. 로그인
   2. 글쓰기 페이지 이동
   3. 제목 타이핑
   4. 본문 타이핑 (소제목 포함)
   5. 이미지 삽입 (소제목별)
   6. 해시태그 입력
   7. 발행/임시저장

[자동화] 🌐 브라우저 설정 중...
[자동화] 🔐 네이버 로그인 중...
[자동화] ✅ 로그인 성공
[자동화] 📝 글쓰기 페이지로 이동 중...
[자동화] ✍️ 제목 입력 중...
[자동화] 📄 본문 입력 중...
[자동화] 🖼️ 이미지 삽입 중... (1/5)
[자동화] 🖼️ 이미지 삽입 중... (2/5)
[자동화] 🖼️ 이미지 삽입 중... (3/5)
[자동화] 🖼️ 이미지 삽입 중... (4/5)
[자동화] 🖼️ 이미지 삽입 중... (5/5)
[자동화] 🏷️ 해시태그 입력 중...
[자동화] 💾 임시저장 중...
[자동화] ✅ 발행 완료

================================================================================
✅ 풀오토 발행 테스트 완료!
================================================================================
발행 시간: 45.32초
총 소요 시간: 59.13초

📊 테스트 결과 요약:
  ✓ 생성 엔진: GEMINI
  ✓ 이미지 소스: PEXELS
  ✓ 제목: 건강한 아침 식사 루틴으로 하루를 시작하세요
  ✓ 본문 길이: 2341자
  ✓ 소제목: 5개
  ✓ 이미지: 5개
  ✓ 해시태그: 5개
  ✓ 발행 모드: draft

🎉 모든 단계가 정상적으로 완료되었습니다!
```

## 추가 테스트 시나리오

### 1. 다양한 생성 엔진 테스트

- Gemini로 테스트
- OpenAI로 테스트
- Claude로 테스트

### 2. 다양한 이미지 소스 테스트

- Pexels로 테스트
- DALL-E로 테스트
- 이미지 라이브러리로 테스트

### 3. 다양한 주제 테스트

- 건강/의료
- IT/기술
- 여행/맛집
- 육아/교육
- 재테크/부동산

### 4. 발행 모드 테스트

- 임시저장 테스트
- 즉시 발행 테스트
- 예약 발행 테스트

## 결론

이 테스트를 통해 풀오토 발행 기능이 다음을 정확하게 수행하는지 확인할 수 있습니다:

1. ✅ 환경 설정에서 API 키를 정확하게 읽음
2. ✅ 선택한 생성 엔진으로 콘텐츠를 생성함
3. ✅ 선택한 이미지 소스로 이미지를 생성함
4. ✅ AI가 이미지를 자동으로 매칭함
5. ✅ 타이핑 순서가 정확함 (제목 → 본문 → 이미지 → 해시태그)
6. ✅ 네이버 블로그에 정상적으로 발행됨

모든 단계가 정상적으로 작동하면 풀오토 발행 기능이 완벽하게 구현된 것입니다! 🎉





