# 배포 파일 정보

## 📦 배포 파일이 개발 환경 그대로 작동하는지?

**✅ 네, 배포 파일은 개발 환경과 동일하게 작동합니다.**

### 주요 차이점:
1. **API 키 초기화**: 배포 파일에서는 민감한 정보(API 키, 네이버 계정 정보 등)가 자동으로 초기화됩니다.
2. **설정 파일**: 처음 실행 시 기본 설정 파일이 생성됩니다.
3. **기능**: 모든 기능은 개발 환경과 동일하게 작동합니다.

### 배포 파일 사용 방법:
1. 배포 파일을 실행하면 기본 설정 파일이 생성됩니다.
2. 사용자가 직접 API 키를 입력해야 합니다 (설정 메뉴에서).
3. 모든 기능은 정상적으로 작동합니다.

---

## ⏱️ 타임아웃 오류 해결

### 문제:
일부 사용자에게만 "API 호출 타임아웃 (90초)" 오류가 발생합니다.

### 원인:
타임아웃 오류가 컴퓨터마다 다르게 발생하는 이유:

1. **네트워크 환경 차이** (가장 큰 영향)
   - 인터넷 속도: 빠른 인터넷(100Mbps+) vs 느린 인터넷(10Mbps 이하)
   - 네트워크 안정성: 안정적인 연결 vs 불안정한 연결 (패킷 손실, 지연)
   - 지역별 서버 거리: 한국에서 가까운 서버 vs 먼 서버
   - ISP(인터넷 제공업체) 차이: KT, SKT, LG 등 각각의 네트워크 품질

2. **컴퓨터 성능 차이**
   - CPU 성능: 크롤링 및 이미지 처리 속도
   - 메모리(RAM): 동시 처리 능력
   - 디스크 속도: 이미지 저장 속도

3. **API 서버 상태**
   - Gemini/OpenAI/Claude API 서버의 부하 상태
   - 서버 위치: 사용자와 가까운 서버 vs 먼 서버
   - 시간대별 부하: 피크 타임 vs 비피크 타임

4. **URL 크롤링 시간**
   - 크롤링 대상 사이트의 응답 속도
   - 페이지 크기: 작은 페이지 vs 큰 페이지 (이미지 많음)
   - 사이트의 봇 차단 정책

### 해결 방법 (적용됨):

#### 1. **타임아웃 시간 적절히 조정**
- 제목만 (1000자 미만): **45초**
- 짧은 글 (3000자 미만): **90초** (URL 크롤링 포함 3분)
- 중간 글 (3000-5000자): **150초** (2.5분)
- 긴 글 (5000-10000자): **240초** (4분)
- 매우 긴 글 (10000자 이상): **300초** (5분)
- URL 크롤링 포함 전체: **6분** (적절한 시간으로 유지)

#### 2. **재시도 로직 개선**
- 타임아웃 발생 시 자동으로 재시도합니다 (최대 5회).
- 재시도 간 대기 시간을 3배로 증가했습니다.

#### 3. **URL 기반 글 생성 타임아웃 조정**
- URL 크롤링을 포함하여 **6분**으로 설정했습니다.
- 진행 상황을 명확히 표시하여 사용자가 대기 시간을 확인할 수 있습니다.

### 사용자 권장사항:
1. **안정적인 네트워크 환경**에서 사용하세요.
2. 타임아웃 발생 시 **자동으로 재시도**되므로 기다려주세요.
3. **긴 글 생성 시** 더 많은 시간이 소요될 수 있습니다.

---

## 🚨 즉시 발행 문제 해결

### 문제:
즉시 발행이 실패해도 에러를 던지지 않아 성공한 것처럼 처리되는 문제가 있었습니다.

### 원인:
- 발행 확인 버튼을 찾지 못해도 경고만 남기고 에러를 던지지 않음
- 발행 옵션을 찾지 못해도 경고만 남기고 에러를 던지지 않음
- 예약 발행과 달리 폴백 로직이 없음

### 해결 방법 (적용됨):

#### 1. **즉시 발행 실패 시 에러 처리 개선**
- 발행 확인 버튼을 찾지 못하면 명확한 에러 메시지 반환
- 발행 옵션을 찾지 못하면 명확한 에러 메시지 반환

#### 2. **폴백 로직 추가 (예약 발행과 동일)**
- 즉시 발행 실패 시 **임시저장으로 자동 폴백**
- 사용자가 나중에 수동으로 발행할 수 있도록 글 보존
- 폴백 실패 시에만 에러 발생

#### 3. **발행 버튼 선택자 개선**
- 더 많은 발행 버튼 선택자 추가
- 여러 방법으로 발행 버튼 찾기 시도

---

## 🔧 배포 파일 재생성 방법

```bash
npm run dist:win
```

생성되는 파일:
- `release/Better Life Naver Setup 1.0.1.exe` - 설치 파일
- `release/Better Life Naver 1.0.1.exe` - 포터블 실행 파일
- `release/win-unpacked/` - 포터블 폴더 버전

